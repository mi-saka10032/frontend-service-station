---
title: é€šç”¨çš„ç¼–ç¨‹æ¦‚å¿µ
order: 1

tag:
  - Rustå˜é‡
  - Rustå…³é”®å­—
  - Rustå¸¸é‡
  - Rustæ•°æ®ç±»å‹
  - Rustå‡½æ•°ä¸æ³¨é‡Š
  - Rustæ§åˆ¶æµ
---

## å˜é‡ä¸å…³é”®å­—ä¸å¸¸é‡

### å˜é‡ä¸å¯å˜æ€§

- å£°æ˜å˜é‡ä½¿ç”¨ let å…³é”®å­—
- é»˜è®¤æƒ…å†µä¸‹ï¼Œå˜é‡æ˜¯ä¸å¯å˜çš„ï¼ˆImmutableï¼‰
- å£°æ˜å˜é‡æ—¶ï¼Œåœ¨å˜é‡å‰é¢åŠ ä¸Š mutï¼Œå°±å¯ä»¥ä½¿å˜é‡å¯å˜ã€‚

é”™è¯¯ç¤ºä¾‹

```rust
fn main() {
  println!("Hello World");

  let x = 5;
  println!("The value of x is {}", x);

  x = 6;
  println!("The value of x is {}", x);
}
```

`error[E0384]ï¼šCannot assign twice to immutable variable x`

æ­£ç¡®ç¤ºä¾‹

```rust
fn main() {
  println!("Hello World");

  let mut x = 5;
  println!("The value of x is {}", x);

  x = 6;
  println!("The value of x is {}", x);
}
```

### å˜é‡ä¸å¸¸é‡

- å¸¸é‡ï¼ˆconstantï¼‰ï¼Œå¸¸é‡åœ¨ç»‘å®šå€¼ä»¥åä¹Ÿæ˜¯ä¸å¯å˜çš„ï¼Œä½†æ˜¯å®ƒä¸ä¸å¯å˜çš„å˜é‡æœ‰å¾ˆå¤šåŒºåˆ«ï¼š
  - ä¸å¯ä»¥ä½¿ç”¨ mutï¼Œå¸¸é‡æ°¸è¿œéƒ½æ˜¯ä¸å¯å˜çš„
  - å£°æ˜å¸¸é‡éœ€è¦ä½¿ç”¨ const å…³é”®å­—ï¼Œå®ƒçš„ç±»å‹å¿…é¡»è¢«æ ‡æ³¨
  - å¸¸é‡å¯ä»¥åœ¨ä»»ä½•ä½œç”¨åŸŸå†…è¿›è¡Œå£°æ˜ï¼ŒåŒ…æ‹¬å…¨å±€ä½œç”¨åŸŸ
  - å¸¸é‡åªå¯ä»¥ç»‘å®šåˆ°å¸¸é‡è¡¨è¾¾å¼ï¼Œæ— æ³•ç»‘å®šåˆ°å‡½æ•°çš„è°ƒç”¨ç»“æœæˆ–åªèƒ½åœ¨è¿è¡Œæ—¶æ‰èƒ½è®¡ç®—å‡ºçš„å€¼
- åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œå¸¸é‡åœ¨å…¶å£°æ˜çš„ä½œç”¨åŸŸå†…ä¸€ç›´æœ‰æ•ˆ
- å‘½åè§„èŒƒï¼šRust é‡Œå¸¸é‡ä½¿ç”¨å…¨å¤§å†™å­—æ¯ï¼Œæ¯ä¸ªå•è¯ä¹‹é—´ç”¨ä¸‹åˆ’çº¿åˆ†å¼€
  - ä¾‹å­ï¼š`const MAX_POINTS:u32 = 100_000`;

### Shadowing

- å˜é‡ shadow æ˜¯æŒ‡åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼Œä½¿ç”¨ä¸€ä¸ªæ–°çš„å˜é‡åæ¥è¦†ç›–ï¼ˆéšè—ï¼‰ä¹‹å‰çš„åŒåå˜é‡ã€‚è¿™æ ·åšå¯ä»¥åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…é‡æ–°å®šä¹‰ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œè€Œä¸ä¼šå½±å“ä¹‹å‰çš„åŒåå˜é‡

```rust
fn main() {
  let x = 5;
  let x = x + 1;
  let x = x * 2;
  // The value of x is 12
  println!("The value of x is {}", x);
}
```

shadow å’ŒæŠŠå˜é‡æ ‡è®°ä¸º mut ä¸ä¸€æ ·ï¼š

- å¦‚æœä¸ä½¿ç”¨ let å…³é”®å­—ï¼Œé‚£ä¹ˆé‡æ–°ç»™é mut çš„å˜é‡èµ‹å€¼ä¼šå¯¼è‡´ç¼–è¯‘æ—¶é”™è¯¯
- ä½¿ç”¨ let å£°æ˜çš„åŒåæ–°å˜é‡ï¼Œä¹Ÿæ˜¯ä¸å¯å˜çš„
- ä½¿ç”¨ let å£°æ˜çš„åŒåæ–°å˜é‡ï¼Œå®ƒçš„ç±»å‹å¯ä»¥ä¸ä¹‹å‰ä¸åŒ

```rust
fn main() {
  // âˆš
  let spaces = "     ";
  let spaces = spaces.len();

  println!("{}", spaces);
}
```

```rust
fn main() {
  // Ã—
  let mut spaces = "     ";
  spaces = spaces.len();

  println!("{}", spaces);
}
```

## æ•°æ®ç±»å‹

- Rust æ•°æ®ç±»å‹åˆ†ä¸ºï¼šæ ‡é‡å’Œå¤åˆç±»å‹
- Rust æ˜¯é™æ€ç¼–è¯‘è¯­è¨€ï¼Œåœ¨ç¼–è¯‘æ—¶å¿…é¡»çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹
  - åŸºäºä½¿ç”¨çš„å€¼ï¼Œç¼–è¯‘å™¨é€šå¸¸èƒ½å¤Ÿæ¨æ–­å‡ºå®ƒçš„å…·ä½“ç±»å‹
  - ä½†å¦‚æœå¯èƒ½çš„ç±»å‹æ¯”è¾ƒå¤šï¼ˆä¾‹å¦‚æŠŠ String è½¬ä¸ºæ•´æ•°çš„ parse æ–¹æ³•ï¼‰ï¼Œå°±å¿…é¡»æ·»åŠ ç±»å‹çš„æ ‡å‡†ï¼Œå¦åˆ™ç¼–è¯‘å‡ºé”™

```rust
fn main() {
  // å¿…é¡»å£°æ˜guessçš„ç±»å‹ï¼Œå› ä¸ºparseæ•´æ•°çš„ç»“æœå¤šæ ·ï¼Œå¯ä»¥æ˜¯i32 u32 i64ç­‰
  let guess: u32 = "42".prase().expect("Not a number");

  println!("{}", guess);
}
```

### æ ‡é‡ç±»å‹

- ä¸€ä¸ªæ ‡é‡ç±»å‹ä»£è¡¨ä¸€ä¸ªå•ä¸ªçš„å€¼
- Rust æœ‰å››ä¸ªä¸»è¦çš„æ ‡é‡ç±»å‹
  - æ•´æ•°ç±»å‹
  - æµ®ç‚¹ç±»å‹
  - å¸ƒå°”ç±»å‹
  - å­—ç¬¦ç±»å‹

#### æ•´æ•°ç±»å‹

- æ•´æ•°ç±»å‹æ²¡æœ‰å°æ•°éƒ¨åˆ†
- æ— ç¬¦å·æ•´æ•°ç±»å‹ä»¥ u å¼€å¤´
- æœ‰ç¬¦å·æ•´æ•°ç±»å‹ä»¥ i å¼€å¤´

| Length  | Signed | Unsigned |
| :------ | :----- | :------- |
| 8-bit   | i8     | u8       |
| 16-bit  | i16    | u16      |
| 32-bit  | i32    | u32      |
| 64-bit  | i64    | u64      |
| 128-bit | i128   | u128     |
| arch    | isize  | usize    |

- æœ‰ç¬¦å·èŒƒå›´ï¼š-(2^(n-1)) ~ 2^(n-1) -1
- æ— ç¬¦å·èŒƒå›´ï¼š0 ~ 2^n -1
- isize å’Œ usize ç±»å‹ç”±è®¡ç®—æœºçš„ç»“æ„æ‰€å†³å®šï¼Œå¦‚æœæ˜¯ 64 ä½è®¡ç®—æœºåˆ™æ˜¯ 64 ä½
- ä½¿ç”¨ isize æˆ– usize çš„ä¸»è¦åœºæ™¯æ˜¯å¯¹æŸç§é›†åˆè¿›è¡Œç´¢å¼•æ“ä½œ

##### æ•´æ•°å­—é¢å€¼

æ•´æ•°å¯ä»¥é€šè¿‡åŠ ä¸‹åˆ’çº¿å¢å¼ºå¯è¯»æ€§ï¼Œå¹¶ä¸å½±å“æ•´æ•°çš„å€¼

é™¤äº† byte ç±»å‹ä»¥å¤–ï¼Œæ‰€æœ‰çš„æ•°å€¼å­—é¢å€¼éƒ½å…è®¸ä½¿ç”¨ç±»å‹åç¼€

æ•´æ•°çš„é»˜è®¤ç±»å‹æ˜¯ i32

| Length        | Signed      |
| :------------ | :---------- |
| Decimal       | 98_222      |
| Hex           | 0xff        |
| Octal         | 0o77        |
| Binary        | 0b1111_0000 |
| Byte(u8 only) | b'A'        |

##### æ•´æ•°æº¢å‡º

ä¾‹å¦‚ï¼šu8 çš„èŒƒå›´æ˜¯ 0-255ï¼Œå¦‚æœä½ æŠŠä¸€ä¸ª u8 å˜é‡è®¾ä¸º 256

- è°ƒè¯•æ¨¡å¼ï¼šç¼–è¯‘ä¼šæ£€æŸ¥æº¢å‡ºï¼Œè¿è¡Œæ—¶å‘ç”Ÿ panic
- å‘å¸ƒæ¨¡å¼ï¼ˆ--releaseï¼‰ï¼šRust ä¸ä¼šæ£€æŸ¥å¯èƒ½å¯¼è‡´ panic çš„æ•´æ•°æº¢å‡º
  - å¦‚æœæº¢å‡ºï¼ŒRust ä¼šæ‰§è¡Œâ€œç¯ç»•â€æ“ä½œï¼š256 å˜ä¸º 0,257 å˜ä¸º 1...

#### æµ®ç‚¹ç±»å‹

- f32ï¼Œ32 ä½ï¼Œå•ç²¾åº¦
- f64ï¼Œ64 ä½ï¼ŒåŒç²¾åº¦

Rust çš„æµ®ç‚¹ç±»å‹ä½¿ç”¨äº† IEEE-754 æ ‡å‡†æ¥è¡¨è¿°

f64 æ˜¯é»˜è®¤ç±»å‹ï¼Œå› ä¸ºåœ¨ç°ä»£ CPU ä¸Š f64 å’Œ f32 é€Ÿåº¦å·®ä¸å¤šï¼Œä¸”ç²¾åº¦æ›´é«˜

Rust ä¹Ÿæ”¯æŒå¯¹æµ®ç‚¹ç±»å‹å–ä½™ï¼Œé™åˆ¶è¦æ±‚ï¼šåˆ†å­åˆ†æ¯éƒ½æ˜¯åŒç±»å‹æµ®ç‚¹æ•°

#### å¸ƒå°”ç±»å‹

ä¸€ä¸ªå­—èŠ‚å¤§å°ï¼Œç¬¦å·æ˜¯ boolï¼Œtrue or false

#### å­—ç¬¦ç±»å‹

char ç±»å‹ç”¨æ¥æè¿°è¯­è¨€ä¸­æœ€åŸºç¡€çš„å•ä¸ªå­—ç¬¦ã€‚

å­—ç¬¦ç±»å‹çš„å­—é¢å€¼ä½¿ç”¨å•å¼•å·

å ç”¨ 4 å­—èŠ‚å¤§å°

æ˜¯ Unicode æ ‡é‡å€¼ï¼Œå¯ä»¥è¡¨ç¤ºæ¯” ASCII å¤šå¾—å¤šçš„å­—ç¬¦å†…å®¹ï¼šæ‹¼éŸ³ã€ä¸­æ—¥éŸ©æ–‡ã€é›¶é•¿åº¦ç©ºç™½å­—ç¬¦ã€emoji è¡¨æƒ…ç­‰ï¼Œé•¿åº¦æ˜¯

- U+0000 åˆ° U+D7FF
- U+E000 åˆ° U+10FFFF

```rust
fn main() {
  let x = 'z';
  let y: char = 'Z';
  let z = 'ğŸ˜‚';
}
```

### å¤åˆç±»å‹

Rust æä¾›äº†ä¸¤ç§åŸºç¡€çš„å¤åˆç±»å‹ï¼šå…ƒç»„ï¼ˆTupleï¼‰å’Œæ•°ç»„

#### å…ƒç»„

- Tuple å¯ä»¥å°†å¤šä¸ªç±»å‹çš„å¤šä¸ªå€¼æ”¾åœ¨ä¸€ä¸ªç±»å‹é‡Œ
- Tuple é•¿åº¦å›ºå®šï¼Œä¸€æ—¦å£°æ˜å°±æ— æ³•æ”¹å˜
- å£°æ˜å…ƒç»„æ—¶ï¼Œåœ¨å°æ‹¬å·é‡Œï¼Œå„å€¼ç”¨é€—å·åˆ†å¼€
- tuple å˜é‡ä½¿ç”¨ç‚¹æ ‡è®°æ³•ï¼Œåæ¥å…ƒç´ ç´¢å¼•å·

```rust
fn main() {
  let tup: (i32, f64, u8) = (500, 6.4, 1);

  println!("{}, {}, {}, ", tup.0, tup.1, tup.2);
}
```

å¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…æ¥è§£æ„ï¼ˆdestructureï¼‰ä¸€ä¸ª tuple æ¥è·å–å…ƒç´ çš„å€¼

```rust
fn main() {
  let tup: (i32, f64, u8) = (500, 6.4, 1);

  let (x, y, z) = tu;

  println!("{}, {}, {}, ", x, y, z);
}
```

#### æ•°ç»„

- æ•°ç»„å¯ä»¥å°†å¤šä¸ªå€¼æ”¾åœ¨ä¸€ä¸ªç±»å‹é‡Œ
- æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„ç±»å‹å¿…é¡»ç›¸åŒ
- æ•°ç»„é•¿åº¦å›ºå®š
- å£°æ˜æ•°ç»„æ—¶ï¼Œåœ¨ä¸­æ‹¬å·é‡Œï¼Œå„å€¼ç”¨é€—å·åˆ†å¼€

```rust
fn main() {
  let a = [1, 2, 3, 4, 5];
}
```

##### æ•°ç»„çš„ç”¨å¤„

å¦‚æœæƒ³è®©ä½ çš„æ•°æ®å­˜æ”¾åœ¨ stackï¼ˆæ ˆï¼‰ä¸Šè€Œä¸æ˜¯ heapï¼ˆå †ï¼‰ä¸Šï¼Œæˆ–è€…æƒ³ä¿è¯æœ‰å›ºå®šæ•°é‡çš„å…ƒç´ ï¼Œåº”ä½¿ç”¨æ•°ç»„

ä½†æ˜¯ï¼Œæ•°ç»„æ²¡æœ‰ Vector çµæ´»

- Vector å’Œæ•°ç»„ç±»ä¼¼ï¼Œå®ƒç”±æ ‡å‡†åº“æä¾›
- Vector çš„é•¿åº¦å¯ä»¥æ”¹å˜
- å¦‚æœä½ ä¸ç¡®å®šåº”è¯¥ç”¨æ•°ç»„è¿˜æ˜¯ Vectorï¼Œé‚£ä¹ˆä½ åº”è¯¥ä½¿ç”¨ Vector

##### æ•°ç»„ç±»å‹å£°æ˜

æ•°ç»„ç±»å‹ä»¥è¿™ç§å½¢å¼è¡¨ç¤ºï¼š`[ç±»å‹ï¼› é•¿åº¦]`

`let a: [i32; 5] = [1, 2, 3, 4, 5];`

å¦‚æœæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ç›¸åŒï¼Œé‚£ä¹ˆå¯ä»¥è¿™æ ·ç®€å†™ï¼š

`let a = [3; 5];`

å®ƒç›¸å½“äº

`let a = [3, 3, 3, 3, 3];`

##### å…ƒç´ è®¿é—®

æ•°ç»„æ˜¯ Stack ä¸Šåˆ†é…çš„å•ä¸ªå—å†…å­˜

å¯ä»¥ä½¿ç”¨ç´¢å¼•`arr[0]`æ¥è®¿é—®æ•°ç»„å…ƒç´ 

å¦‚æœè®¿é—®ç´¢å¼•è¶…å‡ºæ•°ç»„èŒƒå›´ï¼Œå³ä¸‹æ ‡è¶Šç•Œï¼Œé‚£ä¹ˆ

- ç¼–è¯‘æ—¶ä¼šæŠ¥é”™
- è¿è¡Œæ—¶ä¼šæŠ¥é”™ï¼ˆruntime æ—¶ä¼š panicï¼‰ï¼ŒRust ä¸ä¼šå…è®¸å…¶ç»§ç»­è®¿é—®ç›¸åº”åœ°å€çš„å†…å­˜

#### String

- String æ¯”é‚£äº›åŸºç¡€æ ‡é‡æ•°æ®ç±»å‹æ›´å¤æ‚
- å­—ç¬¦ä¸²å­—é¢å€¼ï¼šç¨‹åºé‡Œæ‰‹å†™çš„é‚£äº›å­—ç¬¦ä¸²å€¼ï¼Œå®ƒä»¬æ˜¯ä¸å¯å˜çš„
- Rustè¿˜æœ‰ç¬¬äºŒç§å­—ç¬¦ä¸²ç±»å‹ï¼šString
  - åœ¨heapä¸Šåˆ†é…ï¼Œèƒ½å¤Ÿå­˜å‚¨åœ¨ç¼–è¯‘æ—¶ä½ç½®æ•°é‡çš„å¤åˆæ–‡æœ¬ç±»å‹

åˆ›å»ºæ–¹æ³•ï¼š

1. ä½¿ç”¨fromå‡½æ•°

`let s = String::from("hello");`

è¿™ç±»å­—ç¬¦ä¸²æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„ï¼Œæ˜¯çœŸæ­£çš„Stringç±»å‹

2. ç›´æ¥è¾“å…¥å­—é¢å€¼

`let s = "hello";`

è¿™ç±»å­—ç¬¦ä¸²æ˜¯ä¸å¯è¢«ä¿®æ”¹çš„ï¼Œä¹Ÿç§°ä¸º`&str`å­—ç¬¦ä¸²åˆ‡ç‰‡ç±»å‹

**åŸå› **

- å­—ç¬¦ä¸²å­—é¢å€¼ï¼Œåœ¨ç¼–è¯‘æ—¶å°±çŸ¥é“å®ƒçš„å†…å®¹äº†ï¼Œå…¶æ–‡æœ¬å†…å®¹ä¼šè¢«ç›´æ¥ç¡¬ç¼–ç åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶é‡Œã€‚
  - ç‰¹ç‚¹ï¼šä¸å¯å˜æ€§ï¼Œé€Ÿåº¦å¿«ã€é«˜æ•ˆã€‚
  - é€šå¸¸å­˜å‚¨åœ¨ç¼–è¯‘æ—¶åˆ†é…çš„é™æ€å­˜å‚¨åŒºåŸŸï¼Œä¹Ÿç§°ä¸ºå¸¸é‡åŒºæˆ–é™æ€åŒºã€‚è¿™ä¸ªåŒºåŸŸé€šå¸¸ä½äºç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨ç¨‹åºåŠ è½½æ—¶è¢«åŠ è½½åˆ°å†…å­˜ä¸­ã€‚
- Stringç±»å‹ï¼Œä¸ºäº†æ”¯æŒå¯å˜æ€§ï¼Œéœ€è¦åœ¨heapä¸Šåˆ†é…å†…å­˜æ¥ä¿å­˜ç¼–è¯‘æ—¶æœªçŸ¥çš„æ–‡æœ¬å†…å®¹ï¼š
  - æ“ä½œç³»ç»Ÿå¿…é¡»åœ¨è¿è¡Œæ—¶è¯·æ±‚å†…å­˜ï¼Œè¿™æ­¥é€šè¿‡è°ƒç”¨`String::from`æ¥å®ç°


## å‡½æ•°

- å£°æ˜å‡½æ•°ä½¿ç”¨ fn å…³é”®å­—
- ä¾ç…§æƒ¯ä¾‹ï¼Œé’ˆå¯¹å‡½æ•°å’Œå˜é‡åï¼ŒRust ä½¿ç”¨ snake case å‘½åè§„èŒƒï¼šæ‰€æœ‰å­—æ¯å°å†™ï¼Œå•è¯ä¹‹é—´ä½¿ç”¨ä¸‹åˆ’åˆ†åˆ†å¼€

### å‡½æ•°å‚æ•°

å‡½æ•°ç­¾åé‡Œï¼Œå¿…é¡»å£°æ˜æ¯ä¸ªå‚æ•°çš„ç±»å‹

```rust
fn main() {
  another_function(5); // argument å®å‚
}

fn another_function(x: i32) { // parameter å½¢å‚
  println!("The value of x is {}", x);
}
```

### è¯­å¥ä¸è¡¨è¾¾å¼

- å‡½æ•°ä½“ç”±ä¸€ç³»åˆ—è¯­å¥ç»„æˆï¼Œå¯é€‰çš„ç”±ä¸€ä¸ªè¡¨è¾¾å¼ç»“æŸ
- Rust æ˜¯åŸºäºè¡¨è¾¾å¼çš„è¯­è¨€
- è¯­å¥æ˜¯æ‰§è¡Œä¸€äº›åŠ¨ä½œçš„æŒ‡ä»¤
- è¡¨è¾¾å¼ä¼šè®¡ç®—äº§ç”Ÿä¸€ä¸ªå€¼
- å‡½æ•°çš„å®šä¹‰ä¹Ÿæ˜¯è¯­å¥
- è¯­å¥çš„è¿”å›å€¼æ˜¯ç©ºå…ƒç»„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯`()`

```rust
fn main() {
  let x = 5;

  let y = {
    let x = 1;
    x + 3 // æ³¨æ„è¿™ä¸€è¡Œæ˜¯è¡¨è¾¾å¼ï¼Œè¿”å›å€¼æ˜¯4ï¼Œä¸èƒ½åŠ åˆ†å·ï¼›å¦‚æœåŠ äº†åˆ†å·å°±å˜æˆäº†è¯­å¥ï¼Œè¿”å›()
  };

  println!("The value of y is {}", y);
}
```

### å‡½æ•°è¿”å›å€¼

- åœ¨`->`ç¬¦å·åè¾¹å£°æ˜å‡½æ•°è¿”å›å€¼çš„ç±»å‹ï¼Œä½†æ˜¯ä¸å¯ä»¥ä¸ºè¿”å›å€¼å‘½å
- åœ¨ Rust é‡Œé¢ï¼Œè¿”å›å€¼å°±æ˜¯å‡½æ•°ä½“é‡Œé¢æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼
- è‹¥æƒ³æå‰è¿”å›ï¼Œéœ€ä½¿ç”¨ return å…³é”®å­—ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªå€¼
- å¤§å¤šæ•°å‡½æ•°éƒ½é»˜è®¤ä½¿ç”¨æœ€åä¸€ä¸ªè¡¨è¾¾å¼ä½œä¸ºè¿”å›å€¼

```rust
fn five() -> i32 {
  5
}

fn main() {
  let x = five();

  println!("The value of x is {}", x);
}
```

## æ§åˆ¶æµ

### if

if è¯­å¥å…è®¸æ‚¨æ ¹æ®æ¡ä»¶æ¥æ‰§è¡Œä¸åŒçš„ä»£ç åˆ†æ”¯

- è¿™ä¸ªæ¡ä»¶å¿…é¡»æ˜¯ bool ç±»å‹
- ä¸æ¡ä»¶ç›¸å…³è”çš„ä»£ç å—å«åšåˆ†æ”¯ï¼ˆarmï¼‰
- åŒæ ·æ”¯æŒ else è¯­å¥

### let+if

å› ä¸º if æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ‰€ä»¥å¯ä»¥å°†å®ƒæ”¾åœ¨ let è¯­å¥ä¸­ç­‰å·çš„å³è¾¹ï¼ˆæ›¿æ¢ä¸‰å…ƒè¿ç®—ç¬¦ï¼‰

```rust
fn main() {
  let condition = true;

  let number = if condition { 5 } else { 6 };

  println!("The value of number is {}", number);
}
```

### loop å¾ªç¯

loop å…³é”®å­—å°†åå¤æ‰§è¡Œä¸€å—ä»£ç ï¼Œç›´åˆ°åœæ­¢ï¼ˆbreakï¼‰

```rust
fn main() {
  let mut count = 0;

  let result = loop {
    count += 1;

    if count == 10 {
      // breakè·Ÿè¿”å›å€¼ï¼Œresultç­‰äº20
      break count * 2;
    }
  };

  println!("The result is {}", result);
}
```

### while å¾ªç¯

å¦å¤–ä¸€ç§å¸¸è§çš„å¾ªç¯æ¨¡å¼æ˜¯æ¯æ¬¡æ‰§è¡Œå¾ªç¯ä½“ä¹‹å‰éƒ½åˆ¤æ–­ä¸€æ¬¡æ¡ä»¶

```rust
fn main() {
  let mut number = 3;

  while number != 0 {
    println!("{}!", number);

    number -= 1;
  }

  println!("LIFTOFF!!!");
}
```

### for å¾ªç¯

- ä½¿ç”¨ while æˆ– loop æ¥éå†é›†åˆï¼Œæ˜“é”™ä¸”ä½æ•ˆ
- ä½¿ç”¨ for æ›´ç®€æ´ç´§å‡‘ï¼Œå®ƒå¯ä»¥é’ˆå¯¹é›†åˆä¸­æ¯ä¸ªå…ƒç´ æ¥æ‰§è¡Œä¸€äº›ä»£ç 
- ç”±äº for å¾ªç¯çš„å®‰å…¨ã€ç®€æ´æ€§ï¼Œå®ƒåœ¨ Rust é‡Œä½¿ç”¨æœ€å¤š

```rust
fn main() {
  let a = [10, 20, 30, 40, 50];
  for element in a.iter() {
    println!("the value is {}", element);
  }
}
```

### Range

- æ ‡å‡†åº“æä¾›
- æŒ‡å®šä¸€ä¸ªå¼€å§‹æ•°å­—å’Œä¸€ä¸ªç»“æŸæ•°å­—ï¼ŒRange å¯ä»¥ç”Ÿæˆå®ƒä»¬ä¹‹é—´çš„æ•°å­—ï¼ˆä¸å«ç»“æŸï¼‰
- rev æ–¹æ³•å¯ä»¥åè½¬ Range

```rust
fn main() {
  // å·¦é—­å³å¼€
  for number in (1..4).rev() {
    println!("{}!", number);
  }
}
```
