import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,d as p}from"./app.1ad95fab.js";const t={},e=p(`<h2 id="值类型和引用类型" tabindex="-1"><a class="header-anchor" href="#值类型和引用类型" aria-hidden="true">#</a> 值类型和引用类型</h2><h3 id="判断方式" tabindex="-1"><a class="header-anchor" href="#判断方式" aria-hidden="true">#</a> 判断方式</h3><p>typeof 判断值类型</p><p>instanceof 判断引用类型</p><h3 id="存储机制" tabindex="-1"><a class="header-anchor" href="#存储机制" aria-hidden="true">#</a> 存储机制</h3><p>基本数据类型存放于栈内存。在 JS 中用于在编译器和内存中保存变量、方法调用。</p><p>引用类型存放于堆内存。它的赋值是堆内存地址的引用（指针）， 所以两个变量指向的还是同一个对象，对任何一个的操作都会相互的影响。（浅拷贝概念）。</p><h3 id="实例对象创建方法" tabindex="-1"><a class="header-anchor" href="#实例对象创建方法" aria-hidden="true">#</a> 实例对象创建方法</h3><p>1.new 操作符 + 2.对象字面量表示</p><h3 id="代码块解析" tabindex="-1"><a class="header-anchor" href="#代码块解析" aria-hidden="true">#</a> 代码块解析</h3><p>对于采用大括号表示的语句，JS 一律解释为代码块。</p><p>在大括号外加上圆括号，解释为对象。</p><h3 id="静态方法" tabindex="-1"><a class="header-anchor" href="#静态方法" aria-hidden="true">#</a> 静态方法</h3><h4 id="点表示法和方括号表示法" tabindex="-1"><a class="header-anchor" href="#点表示法和方括号表示法" aria-hidden="true">#</a> 点表示法和方括号表示法</h4><ol><li><p>方括号表示法总是能代替点表示法,但点表示法却不一定能全部代替方括号表示法。</p></li><li><p>方括号表示法可以用变量名作为属性名,点表示法不能。</p></li><li><p>方括号表示法可以用纯数字为属性名,点表示法不能。</p></li><li><p>方括号表示法可以用打空格的字符串为属性名,点表示法不能。</p></li></ol><h4 id="in-运算符" tabindex="-1"><a class="header-anchor" href="#in-运算符" aria-hidden="true">#</a> in 运算符</h4><p>in 运算符用于检查对象是否包含某个属性（注意，检查的是键名，不是键值），如果包含就返回 true， 否则返回 false。它的左边是一个字符串，表示属性名，右边是一个对象。</p><h4 id="hasownproperty" tabindex="-1"><a class="header-anchor" href="#hasownproperty" aria-hidden="true">#</a> hasOwnProperty</h4><p>hasOwnProperty(propertyName)方法 是用来检测属性是否为对象的自有属性，如果是，返回 true，否者 false; 参数 propertyName 指要检测的属性名； 用法：object.hasOwnProperty(propertyName) // true/false</p><p>hasOwnProperty() 方法是 Object 的原型方法（也称实例方法），它定义在 Object.prototype 对象之上，所有 Object 的实例对象都会继承 hasOwnProperty() 方法。</p><p>hasOwnProperty() 只会检查对象的自有属性，对象原形上的属性其不会检测；但是对于原型对象本身来说，这些原型上的属性又是原型对象的自有属性，所以原形对象也可以使用 hasOwnProperty()检测自己的自有属性；</p><h4 id="属性遍历" tabindex="-1"><a class="header-anchor" href="#属性遍历" aria-hidden="true">#</a> 属性遍历</h4><p>它遍历的是对象所有可遍历（enumerable）的属性，会跳过不可遍历的属性。</p><p>它不仅遍历对象自身的属性，还遍历继承的属性。</p><p>如果继承的属性是可遍历的，那么就会被 for...in 循环遍历到。但是，一般情况下，都是只想遍 历对象自身的属性，所以使用 for...in 的时候，应该结合使用 hasOwnProperty 方法，在循环内部判 断一下，某个属性是否为对象自身的属性。</p><h4 id="属性查看" tabindex="-1"><a class="header-anchor" href="#属性查看" aria-hidden="true">#</a> 属性查看</h4><p>查看一个对象本身的所有属性，可以使用 Object.keys 方法。该方法会返回一个由一个给定对象的自身可枚举属性组成的数组，数组中属性名的排列顺序和使用 for...in 循环遍历该对象时返回的顺序一致。</p><h4 id="属性名获取" tabindex="-1"><a class="header-anchor" href="#属性名获取" aria-hidden="true">#</a> 属性名获取</h4><p>返回一个数组，该数组对元素是 obj 自身拥有的枚举或不可枚举属性名称字符串。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;length&quot;]</span>

<span class="token comment">// 类数组对象</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&quot;c&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;]</span>

<span class="token comment">// 使用 Array.forEach 输出属性名和属性值</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> idx<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val <span class="token operator">+</span> <span class="token string">&quot; -&gt; &quot;</span> <span class="token operator">+</span> obj<span class="token punctuation">[</span>val<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出</span>
<span class="token comment">// 0 -&gt; a</span>
<span class="token comment">// 1 -&gt; b</span>
<span class="token comment">// 2 -&gt; c</span>

<span class="token comment">//不可枚举属性</span>
<span class="token keyword">var</span> my_obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">getFoo</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
my_obj<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>my_obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;foo&quot;, &quot;getFoo&quot;]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="属性删除" tabindex="-1"><a class="header-anchor" href="#属性删除" aria-hidden="true">#</a> 属性删除</h4><p>delete 命令删除对象 obj 的 p 属性。删除后，再读取 p 属性就会返回 undefined，而且 Object.keys 方法的返回值也不再包括该属性。</p><p>注意：</p><ol><li><p>删除一个不存在的属性，delete 不报错，而且返回 true。</p></li><li><p>delete 命令只能删除对象本身的属性，无法删除继承的属性。</p></li></ol><h4 id="get-set" tabindex="-1"><a class="header-anchor" href="#get-set" aria-hidden="true">#</a> get&amp;set</h4><p>对象中有 get 和 set 方法，在读取和设定值的时候触发。vue 中的数据绑定就是通过这个来实现的。</p><ol><li>直接在对象内使用</li></ol><p>get 用法：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>info<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>info<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;张三&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;张三&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>作用：</p><ol><li><p>在对象内属性嵌套层级过多时，可以直接在对象下读取到对应属性，简化调用；</p></li><li><p>在 get 时可以任意设置属性名，可以不暴露组件内部属性名。</p></li></ol><p>set 用法：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我改名了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>info<span class="token punctuation">.</span>name <span class="token operator">=</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;张三&#39;</span>

user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &#39;我改名了&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;李四&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>作用：</p><ol><li>在对象内属性嵌套层级过多时，可以直接在对象下设置到对应属性，简化层级；</li><li>set 方法内的逻辑在赋值时会自动执行，可以监听属性值的改变</li></ol><br><ol start="2"><li>使用 Object.defineProperty()</li></ol><p>方法会直接在一个对象上定义一个新属性，或者修改一个对象的现有属性，并返回此对象。</p><p>Object.defineproperty( object，‘ propName ’ ，descriptor)；</p><p>参数：</p><ul><li><p>object ：要定义或修改属性的对象；</p></li><li><p>propName ：要定义或修改的属性的名称；</p></li><li><p>descriptor：要定义或修改的属性描述符。</p></li></ul><p>descriptor四个属性：</p><p>value：设置属性的值，默认undefined</p><p>writable：值是否可重写。默认false</p><p>enumerable：目标属性是否可以被枚举。默认false</p><p>configurable：目标属性是否可以被删除或是否可以再次修改特性。默认false</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">user_name</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> user<span class="token punctuation">.</span>user_name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我改名了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span>user_name <span class="token operator">=</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;张三&#39;</span>
user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;王二&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &#39;我改名了&#39;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;王二&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>user_name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;王二&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>作用： set 方法可以监听对应属性值的改变，vue 的数据动态绑定就是通过这个方法实现的，监听到 vue 实例中的 data 属性发生改变时，在 set 方法中触发模版重新渲染逻辑。</p><br><ol><li>使用 Object.defineProperties()</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">nameGet</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;读取&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">nameSet</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;设置&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>nameGet<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;读取&#39;  &#39;张三&#39;</span>
user<span class="token punctuation">.</span>nameSet <span class="token operator">=</span> <span class="token string">&quot;王二&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &#39;设置&#39;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>nameSet<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;王二&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>作用： 和方法 1 直接在对象中设置效果和原理相似</p><h4 id="其他静态方法" tabindex="-1"><a class="header-anchor" href="#其他静态方法" aria-hidden="true">#</a> 其他静态方法</h4><p>（1）对象属性模型的相关方法</p><p>Object.getOwnPropertyDescriptor()：获取某个属性的描述对象。</p><p>Object.defineProperty()：通过描述对象，定义某个属性。</p><p>Object.defineProperties()：通过描述对象，定义多个属性。</p><p>（2）控制对象状态的方法</p><p>Object.preventExtensions()：防止对象扩展。</p><p>Object.isExtensible()：判断对象是否可扩展。</p><p>Object.seal()：禁止对象配置。</p><p>Object.isSealed()：判断一个对象是否可配置。</p><p>Object.freeze()：冻结一个对象。</p><p>Object.isFrozen()：判断一个对象是否被冻结。</p><p>（3）原型链相关方法</p><p>Object.create()：该方法可以指定原型对象和属性，返回一个新的对象。</p><p>Object.getPrototypeOf()：获取对象的 Prototype 对象。</p><h3 id="实例方法" tabindex="-1"><a class="header-anchor" href="#实例方法" aria-hidden="true">#</a> 实例方法</h3><h4 id="tostring-valueof" tabindex="-1"><a class="header-anchor" href="#tostring-valueof" aria-hidden="true">#</a> toString &amp; valueOf</h4><p>js 中一切皆对象，Number、string、boolean 都有 tostring 和 valueof，但是 null 和 undefined 没有。</p><ol><li>toString()</li></ol><p>返回一个表示该对象的字符串。</p><p>每个对象都有一个 toString() 方法，当对象被表示为文本值时或者当以期望字符串的方式引用 对象时，该方法被自动调用。</p><ol start="2"><li>valueOf()</li></ol><p>返回指定对象的原始值</p><p>调用 valueOf() 方法用来把对象转换成原始类型的值（数值、字符串和布尔值） 默认情况下, valueOf() 会被每个实例对象（Object）继承。</p><ol start="3"><li>toString()和 valueOf()同时存在</li></ol><ul><li>函数</li></ul><p>当函数 fn 用+连接一个字符串或者是数字的时候，如果我们没有重新定义 valueOf 和 toString， 其隐式转换会调用默认的 toString()方法，将函数本身内容作为字符串返回； 如果我们自己重新定义 toString/valueOf 方法，那么其转换会按照我们的定义来，其中 valueOf 比 toString 优先级更高。</p><ul><li>对象/数组</li></ul><p>和函数结果一样。</p><ul><li>Date</li></ul><p>默认调用 toString()。字符串拼接调用 toString</p><p>涉及数值类型类型转换调用 valueOf()。</p><h4 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h4><p>toString：所有方法均可调用，自动调用。可覆盖。</p><p>valueOf：如果对象没有原始值，返回对象本身。</p><p>同时存在：默认 toString，覆盖时 valueOf 优先级更高。</p><p>特殊情况：alert() []调用 toString date()</p><h3 id="数据类型转换" tabindex="-1"><a class="header-anchor" href="#数据类型转换" aria-hidden="true">#</a> 数据类型转换</h3><h4 id="强制转换" tabindex="-1"><a class="header-anchor" href="#强制转换" aria-hidden="true">#</a> 强制转换</h4><ol><li>Number</li></ol><p>Number：原值</p><p>String：</p><p>1.可以被解析为数值，则转为数值；否则 NaN</p><p>2.空字符串转为 0</p><p>Boolean：true 为 1，false 为 0</p><p>undefined：NaN</p><p>null：0</p><p>Object：Number 方法的参数是对象时，返回 NaN，除非对象为单元素数值数组 [10]。</p><p>转换规则：</p><p>1）调用对象自身的 valueOf 方法。如果返回原始类型的值，则直接对该值使用 Number 函数， 不再进行后续步骤。</p><p>2）如果 valueOf 方法返回的还是对象，则改为调用对象自身的 toString 方法。如果 toString 方法返回原始类型的值，则对该值使用 Number 函数，不再进行后续步骤。</p><p>3）如果 toString 方法返回的是对象，就报错。</p><br><ol start="2"><li>特有 toString 方法</li></ol><p>1）toString 方法可以接受一个参数，表示输出的进制。</p><p>2）数字调用 tostring 要加括号（这样表明后面的点表示调用对象属性）, 不加括号，这个点 会被 JavaScript 引擎解释成小数点，从而报错。</p><p>3）只要能让 JavaScript 引擎 不混淆小数点和对象的点运算符，各种写法都能用。</p><br><ol start="3"><li>String</li></ol><p>1.原始类型</p><p>不解释</p><p>2.对象</p><p>对象，返回一个类型字符串；数组，返回该数组的字符串形式。</p><p>转换规则：</p><p>1）先调用对象自身的 toString 方法。如果返回原始类型的值，则对该值使用 String 函数，不 再进行以下步骤。</p><p>2）如果 toString 方法返回的是对象，再调用原对象的 valueOf 方法。如果 valueOf 方法返回原 始类型的值，则对该值使用 String 函数，不再进行以下步骤。</p><p>3）如果 valueOf 方法返回的是对象，就报错。</p><br><ol start="4"><li>Boolean</li></ol><p>undefined null -0 +0 NaN &quot;&quot;（空串） 全为 false</p><p>其他全为 true</p><p>所有对象（包括空对象）转换结果都是 true</p><h4 id="自动转换" tabindex="-1"><a class="header-anchor" href="#自动转换" aria-hidden="true">#</a> 自动转换</h4><ol><li><p>不同类型数据互相运算。</p></li><li><p>非布尔值类型数据求布尔值。</p></li><li><p>非数值类型的值使用一元运算符（+ - ）。</p></li><li><p>自动转换规则：</p></li></ol><p>预期什么类型的值，就调用该类型的转换函数。</p><ol start="5"><li>自动转换为布尔值</li></ol><p>JavaScript 遇到预期为布尔值的地方（比如 if 语句的条件部分），就会将非布尔值的参数自动 转换为布尔值。系统内部会自动调用 Boolean 函数。</p><ol start="6"><li>自动转换为字符串</li></ol><p>遇到预期为字符串的地方，就会将非字符串的值自动转为字符串。</p><p>先将复合类型的值转为原始类型的值，再将原始类型的值转为字符串。</p><ol start="7"><li>自动转换为数值</li></ol><p>遇到预期为数值的地方，就会将参数值自动转换为数值。系统内部会自动调用 Number 函数。 除了加法运算符（+）有可能把运算子转为字符串，其他运算符都会把运算子自动转成数值。</p><p>null 转数值为 0，undefined 转数值为 0</p><h3 id="基本包装类型" tabindex="-1"><a class="header-anchor" href="#基本包装类型" aria-hidden="true">#</a> 基本包装类型</h3><p>对象是 JavaScript 语言最主要的数据类型，在 js 中三种原始类型的值——数值、字符串、布 尔值——在一定条件下，也会转为对象，也就是原始类型的“包装对象”（wrapper）。</p><p>所谓“包装对象”，指的是与数值、字符串、布尔值分别相对应的 Number、String、Boolean 三 个原生对象。这三个原生对象可以把原始类型的值变成（包装成）对象。</p><p>在读取字符串、数字和布尔值的属性值或方法（实际上是 它们对应包装对象的属性值或方法）表现的像对象一样。但是如果你试图给属性赋值，则会忽略这 个操作：修改只是发生在临时对象身上，而这个临时对象并不会继续保留下来，意思是不允许对包 装对象 设置属性，他的属性是只读的比如 length。</p><h4 id="设计目的" tabindex="-1"><a class="header-anchor" href="#设计目的" aria-hidden="true">#</a> 设计目的</h4><p>首先是使得“对象”这种类型可以覆盖 JavaScript 所有的值，整门语言有一个通用的数据模型， 其次是使得原始类型的值也有办法调用自己的方法。</p><h4 id="实例方法-1" tabindex="-1"><a class="header-anchor" href="#实例方法-1" aria-hidden="true">#</a> 实例方法</h4><p>数值的自定义方法，只能定义在它的原型对象 Number.prototype 上面，数值本身是无法自定义属性的。</p><p>valueOf() toString()</p><h4 id="原始类型与实例对象自动转换" tabindex="-1"><a class="header-anchor" href="#原始类型与实例对象自动转换" aria-hidden="true">#</a> 原始类型与实例对象自动转换</h4><p>某些场合，原始类型的值会自动当作包装对象调用，即调用包装对象的属性和方法。这时， JavaScript 引擎会自动将原始类型的值转为包装对象实例，并在使用后立刻销毁实例。</p><h2 id="执行机制分析" tabindex="-1"><a class="header-anchor" href="#执行机制分析" aria-hidden="true">#</a> 执行机制分析</h2><p>JS 引擎的执行过程，分为三个阶段：</p><p>语法分析 → 预编译阶段 → 执行阶段</p><p>说明：浏览器先按照 js 的顺序加载&lt; script &gt;标签分隔的代码块，js 代码块加载完毕之后，立刻进入 到上面的三个阶段，然后再按照顺序找下一个代码块，再继续执行三个阶段，无论是外部脚本文件 （不异步加载）还是内部脚本代码块，都是一样的，并且都在同一个全局作用域中。</p><h3 id="语法分析" tabindex="-1"><a class="header-anchor" href="#语法分析" aria-hidden="true">#</a> 语法分析</h3><p>js 的代码块加载完毕之后，会首先进入到语法分析阶段，该阶段的主要作用： 分析该 js 脚本代码块的语法是否正确，如果出现不正确会向外抛出一个语法错误 （syntaxError），停止该 js 代码的执行，然后继续查找并加载下一个代码块；如果语法正确，则 进入到预编译阶段。</p><h3 id="预编译阶段" tabindex="-1"><a class="header-anchor" href="#预编译阶段" aria-hidden="true">#</a> 预编译阶段</h3><p>js 代码块通过语法分析阶段之后，语法都正确的下回将进入预编译阶段。</p><h4 id="_1-运行环境" tabindex="-1"><a class="header-anchor" href="#_1-运行环境" aria-hidden="true">#</a> 1.运行环境</h4><p>运行环境分类：1.全局环境；2、函数环境；3、eval 环境（不建议使用）。</p><p>每进入到一个不同的运行环境都会创建 一个相应的执行上下文（execution context），那么 在一段 js 程序中一般都会创建多个执行上下文，js 引擎会以栈的数据结构对这些执行进行处理，形 成函数调用栈（call stack），栈底永远是全局执行上下文（global execution context），栈顶则 永远是当前的执行上下文。</p><h4 id="_2-执行环境" tabindex="-1"><a class="header-anchor" href="#_2-执行环境" aria-hidden="true">#</a> 2.执行环境</h4><ol><li>栈数据结构</li></ol><p>先进后出、后进先出。</p><br><ol start="2"><li>EC 执行环境（执行上下文）Execution Context</li></ol><p>创建变量对象 → 创建作用域链 → 确定 this 指向。</p><ul><li>变量对象 VO（Variable Object）</li></ul><p>过程：</p><p>创建 arguments 对象 → 检查 function 函数声明创建属性 → 检查 var 变量声明创建属性</p><p>1、 创建 arguments 对象，检查当前上下文的参数，建立该对象的属性与属性值，仅在函数环境 （非箭头函数）中进行的，全局环境没有此过程。</p><p>2、 检查当前上下文的函数声明，按照代码顺序查找，将找到的函数提前声明，如果当前上下文的 变量对象没有该函数名属性，则在该变量对象以函数名建立一个属性，属性值则指向该函数所在堆 内存地址引用，如果存在，则会被新的引用覆盖掉。</p><p>3、 检查当前上下文的变量声明，按照代码顺序查找，将找到的变量提前声明，如果当前上下文的 变量对象没有变量名属性，则在该变量对象以变量名建立一个属性，属性值为 undefined；如果存 在，则忽略该变量声明。</p><p>说明：在全局环境中，window 对象就是全局执行上下文的变量对象，所有的变量和函数都是 window 对象的属性方法。</p><p><strong>函数声明提前和变量声明提升是在创建变量对象中进行的，且函数声明优先级高于变量声明</strong></p><ul><li>scope 属性 指向作用域</li></ul><p>作用域链由当前执行环境的变量对象（未进入到执行阶段前）与上层环境的一系列活动对象组成， 保证了当前执行环境对符合访问权限的变量和函数有序访问。</p><p>1、 作用域链的第一项永远是当前作用域（当前上下文的变量对象或者活动对象）；</p><p>2、 最后一项永远是全局作用域（全局上下文的活动对象）；</p><p>3、 作用域链保证了变量和函数的有序访问，查找方式是沿着作用域链从左至右查找变量或者函 数，找到则会停止找，找不到则一直查找全局作用域，再找不到就会排除错误。</p><ul><li>this 指针</li></ul><p>1、 在全局环境下，全局执行的上下文中变量对象的 this 属性指向为 window；</p><p>2、 在函数环境下的 this 指向比较灵活，需要根据执行环境和执行方法确定，列举典型例子来分析</p><br><ol start="3"><li>执行环境栈（Execution Context Stack）</li></ol><p>当一个脚本第一次执行的时候，js 引擎会解析这段代码，并将其中的同步代码按照执行顺序加 入执行栈中，然后从头开始执行。如果当前执行的是一个方法，那么 js 会向执行栈中添加这个方法 的执行环境，然后进入这个执行环境继续执行其中的代码。当这个执行环境中的代码 执行完毕并返 回结果后，js 会退出这个执行环境并把这个执行环境销毁，回到上一个方法的执行环境。。这个过程 反复进行，直到执行栈中的代码全部执行完毕。</p><ol start="4"><li>AO 激活对象（Active Object）</li></ol><p>有了变量对象存每个上下文中的东西，但是它什么时候能被访问到呢？就是每进入一个执行上 下文时，这个执行上下文儿中的变量对象就被激活，也就是该上下文中的 函数标示符、形参 arguments、变量声明等就可以被访问到了。</p><p>其实变量对象和激活对象都是一个东西，只是变量对象是全局，激活对象是函数内部。</p><h4 id="执行环境的作用" tabindex="-1"><a class="header-anchor" href="#执行环境的作用" aria-hidden="true">#</a> 执行环境的作用</h4><p>除此之外，在 js 代码的任何位置打印 this，它总是有值的，尽管大多数情况下 this 都指向 window 对象(this 的具体指向以后会提到)，这说明 this 也是在执行环境中就准备好的。</p><p>现在能清楚执行环境中准备了哪些东西了。</p><p>变量声明、函数声明、arguments（函数体）、this，以上内容都会被保存在变量对象中。由此可见，执行环境的作用就是生成一个变量对象，将代码执行过程中可能用到的所有变量都提前准备好。</p><h4 id="执行流和执行环境" tabindex="-1"><a class="header-anchor" href="#执行流和执行环境" aria-hidden="true">#</a> 执行流和执行环境</h4><p>JS 执行流其实是一个压栈出栈的过程——执行上下文栈</p><p><img src="https://misaka10032.oss-cn-chengdu.aliyuncs.com/Javascript/执行环境" alt="执行环境" loading="lazy"></p><p>1．JavaScript 执行在单线程上，所有的代码都是排队执行。</p><p>2．一开始浏览器执行全局的代码时，首先创建全局的执行上下文，压入执行栈的顶部。</p><p>3．每当进入一个函数的执行就会创建函数的执行上下文，并且把它压入执行栈的顶部。当前函数执行完成后，当前函数的执行上下文出栈，并等待垃圾回收。</p><p>4．浏览器的 JS 执行引擎总是访问栈顶的执行上下文。</p><p>5．全局上下文只有唯一的一个，它在浏览器关闭时出栈。</p><h4 id="执行环境的生命周期" tabindex="-1"><a class="header-anchor" href="#执行环境的生命周期" aria-hidden="true">#</a> 执行环境的生命周期</h4><p>总生命周期：创建 → 执行 → 出栈等待销毁</p><p>创建阶段：</p><ul><li><p>创建作用域链</p></li><li><p>创建变量对象 AO：初始化函数参数 arguments→ 初始化函数声明 → 初始化变量。</p></li><li><p>执行阶段：执行变量赋值、代码执行。</p></li><li><p>回收阶段：执行上下文出栈等待，回收执行。</p></li></ul><p><img src="https://misaka10032.oss-cn-chengdu.aliyuncs.com/Javascript/执行环境生命周期" alt="执行环境生命周期" loading="lazy"></p><h3 id="执行阶段" tabindex="-1"><a class="header-anchor" href="#执行阶段" aria-hidden="true">#</a> 执行阶段</h3><h4 id="解释阶段" tabindex="-1"><a class="header-anchor" href="#解释阶段" aria-hidden="true">#</a> 解释阶段</h4><p>词法分析：JavaScript 中在调用函数的那一瞬间之前，会先进行词法分析（当函数调用的前一瞬间， 会先形成一个激活对象：Avtive Object（AO），并进行分析）。</p><p>JS 词法分析分为 3 个步骤：</p><p>1.分析形参 →2.分析变量声明 →3.分析函数声明</p><p>作用域规则确定：判断一个变量是什么时，根据它定义时的作用域，代码在解释阶段就要确定好。</p><h4 id="执行阶段-1" tabindex="-1"><a class="header-anchor" href="#执行阶段-1" aria-hidden="true">#</a> 执行阶段</h4><p>创建执行上下文 → 执行函数代码 → 垃圾回收</p><p>JS 代码整体运行分为两个阶段：词法分析期和运行期。在 JS 代码自上而下执行前，会有一个“词法分析过程”。</p><p>词法分析主要有 3 个步骤：分析函数参数、分析变量声明、分析函数声明。</p><p>具体步骤：</p><p>1.分析函数参数</p><p>将函数的参数添加为 AO 属性，属性默认值为 undefined。</p><p>接收函数的实参，覆盖原属性值。</p><p>2.分析变量声明/分析局部变量</p><p>若 AO 中不存在与声明的变量所对应的属性，则添加 AO 属性为 undefined。</p><p>若 AO 中已存在与声明的变量所对应的属性，则不做任何修改。</p><p>3.若 AO 中存在与函数名所对应的属性，则覆盖原属性为一个函数表达式。</p><h2 id="class-类" tabindex="-1"><a class="header-anchor" href="#class-类" aria-hidden="true">#</a> Class 类</h2><h3 id="继承" tabindex="-1"><a class="header-anchor" href="#继承" aria-hidden="true">#</a> 继承</h3><p>（1）class 关键字创建，首字母大写</p><p>（2）构造函数（有参）：constructor()</p><p>（3）constructor 不写也会自动生成。new 的时候自动调用</p><p>（4）生成实例 new 不能省略。</p><p>（5）注意语法规范，创建类，类名后面不要加小括号。实例后面加小括号，构造函数不需要 function。</p><h4 id="类的继承" tabindex="-1"><a class="header-anchor" href="#类的继承" aria-hidden="true">#</a> 类的继承</h4><p>子类可继承父类构造方法之外的方法</p><p>super()：访问和调用对象父类的函数，可以调用父类的构造函数也可以调用普通函数。</p><h4 id="方法重写" tabindex="-1"><a class="header-anchor" href="#方法重写" aria-hidden="true">#</a> 方法重写</h4><p>指继承父类的子类将父类的同名方法重写为子类独有方法</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;我的名字是&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">set</span> <span class="token function">birth</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_birth <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">birth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_birth<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token comment">// 继承拿到所有Person的属性</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 继承name</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age1 <span class="token operator">=</span> age<span class="token punctuation">;</span> <span class="token comment">// 通过继承的属性新建一个属性</span>
  <span class="token punctuation">}</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 重写say这个函数</span>
    <span class="token keyword">return</span> <span class="token string">&quot;My name is&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">&quot;嘻嘻&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 实例化对象并赋值</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;哈哈&quot;</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;animal&quot;</span><span class="token punctuation">,</span> animal<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">,</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>birth <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// 相当于用set赋值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;birth&quot;</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span>birth<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// get拿到值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;birth&quot;</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span>say<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;birth&quot;</span><span class="token punctuation">,</span> animal<span class="token punctuation">.</span>say<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="super" tabindex="-1"><a class="header-anchor" href="#super" aria-hidden="true">#</a> super</h4><p>super 作为函数使用，代表父类的构造函数，只能用在子类的构造函数中；</p><p>super 作为对象使用，在普通方法之中指向父类的原型对象，在静态方法之中指向父类；在普通方法中调用父类方法，super 内部的 this 指向子类的实例，在静态方法中指向子类。</p><h3 id="本质" tabindex="-1"><a class="header-anchor" href="#本质" aria-hidden="true">#</a> 本质</h3><p>类的本质还是 function，也可以简单认为类就是构造函数另一种写法。</p><p>1.类有原型对象 prototype</p><p>2.类原型对象 prototype 里面有 constructor 指向类本身</p><p>3.类可以通过原型对象添加方法</p><p>4.类创建的实例对象有<code>__proto__</code>原型指向类的原型对象</p><p>ES6 类其实就是<strong>语法糖</strong>（一种便捷写法，简单理解，有两种方法可以实现同样的功能，更加清晰方便的方法就是语法糖）</p><h2 id="构造函数" tabindex="-1"><a class="header-anchor" href="#构造函数" aria-hidden="true">#</a> 构造函数</h2><p>构造函数习惯首字母大写</p><p>构造函数和普通函数区别就是调用方式不同，普通函数是直接调用，而构造函数需要 new 来调用。</p><p>执行流程：</p><p>立刻创建一个新对象 → 新建对象设置为 this→ 逐行执行函数中的代码 → 将新建对象返回</p><p>instance of 与 java 一致，所有对象都是 Object 的后代。</p><p>方法理解：</p><p>在 Person 构造函数中，为每一个对象都添加了一个方法，构造函数每执行一次就会创建一个新的方法，所有实例的方法都是唯一的。</p><p>重点：函数体写在对象内部 or 全局作用域</p><p>1.首字母大写</p><p>2.和 new 一起使用</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Man</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> man <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Man</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个name名为张三的构造函数Man</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="实例成员和静态成员" tabindex="-1"><a class="header-anchor" href="#实例成员和静态成员" aria-hidden="true">#</a> 实例成员和静态成员</h3><ol><li><p>实例成员就是构造函数内部通过 this 添加的成员。只能通过实例化的对象访问。</p></li><li><p>静态成员是指在构造函数本身上添加的成员，只能通过构造函数访问。不能通过对象访问。</p></li></ol><h3 id="构造函数原型-prototype" tabindex="-1"><a class="header-anchor" href="#构造函数原型-prototype" aria-hidden="true">#</a> 构造函数原型 prototype</h3><p>我们所创建的每一个函数，解析器都会向函数中添加一个属性 prototype。这个属性对应着一个对象，这个对象就是我们所谓的原型对象。</p><p>1.作为普通函数调用 prototype 没有任何作用。</p><p>2.以构造函数调用，创建对象中隐含属性指向该构造函数的原型对象，通过 <code>__proto__</code> 来访问该属性。</p><p>3.当我们访问对象的一个属性或方法时，它会先在对象自身中寻找，如果没有则在原型对象中寻找，如果找到则直接使用。如果原型中没有则去原型的原型中寻找，直到找到 Object 的原型，Object 的原型没有原型，如果在 Object 中仍然没有找到，则返回 undefined。</p><p>4.创建构造函数时，可以将这些对象共有的属性和方法，统一添加到构造函数的原型对象中，这样不用分别为每一个对象添加，也不会影响到全局作用域，就可以使每个对象都具有属性和方法。</p><h3 id="对象原型-proto" tabindex="-1"><a class="header-anchor" href="#对象原型-proto" aria-hidden="true">#</a> 对象原型 <code>__proto__</code></h3><p>对象有一个属性<code>__proto__</code>，指向 prototype 原型对象。</p><p><code>__proto__</code>对象原型和原型对象 prototype 等价</p><p><code>__proto__</code>对象原型的意义在于为对象的查找机制提供一个方向，但属于非标准属性，实际开发中不可以使用这个属性，它只是指向原型对象 prototype。</p><h3 id="constructor-构造函数" tabindex="-1"><a class="header-anchor" href="#constructor-构造函数" aria-hidden="true">#</a> constructor 构造函数</h3><p>在 JavaScript 中, constructor 属性返回对象的构造函数。</p><p>返回值是函数的引用，不是函数名：</p><p>JavaScript 数组 constructor 属性返回 <code>function Array() { [native code] }</code></p><p>JavaScript 数字 constructor 属性返回 <code>function Number() { [native code] }</code></p><p>JavaScript 字符串 constructor 属性返回 <code>function String() { [native code] }</code></p><p>如果一个变量是数组你可以使用 constructor 属性来定义。</p><h3 id="原型链-重要" tabindex="-1"><a class="header-anchor" href="#原型链-重要" aria-hidden="true">#</a> 原型链（重要）</h3><p><img src="https://misaka10032.oss-cn-chengdu.aliyuncs.com/Javascript/原型链三角关系" alt="原型对象三角关系" loading="lazy"></p><p><img src="https://misaka10032.oss-cn-chengdu.aliyuncs.com/Javascript/原型链" alt="原型链" loading="lazy"></p><h3 id="成员查找规则" tabindex="-1"><a class="header-anchor" href="#成员查找规则" aria-hidden="true">#</a> 成员查找规则</h3><ol><li><p>当访问一个对象的属性（包括方法）时，首先查找这个对象自身有没有该属性。</p></li><li><p>如果没有就查找它的原型（也就是 <code>__ proto __</code> 指向的 prototype 原型对象）。</p></li><li><p>如果还没有就查找原型对象的原型（Object 的原型对象）。</p></li><li><p>以此类推一直找到 Object 为止（null）。</p></li><li><p><code>__ proto __</code> 对象原型的意义在于为对象成员查找机制提供方向。</p></li></ol><h3 id="扩展内置对象须知" tabindex="-1"><a class="header-anchor" href="#扩展内置对象须知" aria-hidden="true">#</a> 扩展内置对象须知</h3><p>数组和字符串内置对象不能给原型对象覆盖操作<code>Array.prototype = {}</code>，只能是<code>Array.prototype.xxx = function() {}</code>的方式。</p><h2 id="函数进阶" tabindex="-1"><a class="header-anchor" href="#函数进阶" aria-hidden="true">#</a> 函数进阶</h2><h3 id="调用方式" tabindex="-1"><a class="header-anchor" href="#调用方式" aria-hidden="true">#</a> 调用方式</h3><p>普通函数、对象方法、构造函数、绑定时间函数、定时器函数、立即执行函数。</p><h3 id="this-指向-重要" tabindex="-1"><a class="header-anchor" href="#this-指向-重要" aria-hidden="true">#</a> this 指向（重要）</h3><table><thead><tr><th style="text-align:left;">调用方式</th><th style="text-align:left;">this 指向</th></tr></thead><tbody><tr><td style="text-align:left;">普通函数调用</td><td style="text-align:left;">window</td></tr><tr><td style="text-align:left;">构造函数调用</td><td style="text-align:left;">实例对象，原型对象里面的方法也指向实例对象</td></tr><tr><td style="text-align:left;">对象方法调用</td><td style="text-align:left;">该方法所属对象</td></tr><tr><td style="text-align:left;">事件绑定方法</td><td style="text-align:left;">绑定事件对象</td></tr><tr><td style="text-align:left;">定时器函数</td><td style="text-align:left;">window</td></tr><tr><td style="text-align:left;">立即执行函数</td><td style="text-align:left;">window</td></tr></tbody></table><p>解析器在调用函数每次都会向函数内部传递进一个隐含的参数，这个隐含参数就是 this，this 指向的是一个对象，这个对象称为函数执行的上下文对象。根据函数的调用方式不同，this 会指向不同对象。</p><p>1.以函数的形式调用时，this 永远都是 window；2.以方法的形式调用时，this 就是调用方法的那个对象</p><p>2.this 适用于函数作为某个对象的方法存在时使用，用于表示该对象。</p><p>3.使用工厂方法批量创建对象，使用的构造函数都是 Object，导致我们无法区分多种不同类型对象。</p><p><strong>this 总结</strong></p><p>1.当以函数形式调用时，this 就是 window。</p><p>2.当以方法的形式调用时，谁调用方法 this 就是谁</p><p>3.当以构造函数形式调用时，this 就是新创建的那个对象。</p><h3 id="改变-this-指向" tabindex="-1"><a class="header-anchor" href="#改变-this-指向" aria-hidden="true">#</a> 改变 this 指向</h3><h4 id="call" tabindex="-1"><a class="header-anchor" href="#call" aria-hidden="true">#</a> call</h4><p>call()方法调用一个函数，简单理解为一次函数的立即调用，但它可以改变函数的 this 指向。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span> <span class="token comment">// 第二个参数开始表示执行该函数传递的参数</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>thisArg：在 fun 函数运行时执行的 this 值</p></li><li><p>arg1, arg2：传递的其他参数</p></li><li><p>返回值就是函数的返回值，因为它就是一次函数调用</p></li></ul><h4 id="apply" tabindex="-1"><a class="header-anchor" href="#apply" aria-hidden="true">#</a> apply</h4><p>apply()方法调用一个函数，简单理解为一次函数的立即调用，但它可以改变函数的 this 指向。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> <span class="token punctuation">[</span>argsArray<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>thisArg：在 fun 函数运行时指定的 this 对象</p></li><li><p>argsArray：传递的参数，必须以数组形式呈现</p></li><li><p>返回值就是函数的返回值，因为它就是一次函数调用</p></li></ul><h4 id="bind" tabindex="-1"><a class="header-anchor" href="#bind" aria-hidden="true">#</a> bind</h4><p>bind()方法不会调用函数，但是能改变函数内部 this 指向</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">.</span> <span class="token operator">...</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>thisArg：在 fun 函数运行时执行的 this 值</p></li><li><p>arg1, arg2：传递的其他参数</p></li><li><p>返回由指定的 this 值和初始化参数改造的<strong>原函数拷贝</strong></p></li></ul><h4 id="小结" tabindex="-1"><a class="header-anchor" href="#小结" aria-hidden="true">#</a> 小结</h4><p>相同点：都可以改变函数内部的 this 指向。</p><p>区别：</p><p>1.call 和 apply 会调用函数，并且改变函数内部 this 指向。</p><p>2.call 和 apply 传递参数不一样，call 传递参数，apply 必须数组形式传参。</p><p>3.bind 不会调用函数，可以改变函数内部 this 指向。</p><p>主要应用场景：</p><p>1.call 经常做继承。</p><p>2.apply 经常跟数组有关系，比如借助于 Math 求值。</p><p>3.bind 不调用函数，能改变 this 指向，比如改定时器内部的 this 指向。</p><h2 id="严格模式" tabindex="-1"><a class="header-anchor" href="#严格模式" aria-hidden="true">#</a> 严格模式</h2><p>严格模式是采用具有限制性 JavaScript 变体的一种方式，即在严格的条件下运行 JS 代码。</p><p>严格模式在 IE10 以上的版本浏览器中才会被支持，旧版本浏览器会被忽略。</p><p>严格模式的更改：</p><p>1.消除了 JavaScript 语法的一些不合理、不严谨之处，减少了一些怪异行为。</p><p>2.消除代码运行的一些不安全之处，保证代码运行的安全。</p><p>3.提高编译器效率，增加运行速度。</p><p>4.禁用了 EMCAScript 的未来版本中可能定义的一些语法，为未来新版本 JS 做铺垫。一些保留字：class、enum、export 等不能做变量名。</p><h3 id="开启严格模式" tabindex="-1"><a class="header-anchor" href="#开启严格模式" aria-hidden="true">#</a> 开启严格模式</h3><p>分为 为脚本开启严格模式、为函数开启严格模式。</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;这是严格模式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将整个脚本文件放在一个立即执行函数中开启严格模式，独立创建作用域不影响其他脚本文件。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>把&quot;use strict&quot;声明放在函数体所有语句之前，仅该函数体内执行严格模式。</p><h3 id="严格模式简要规则" tabindex="-1"><a class="header-anchor" href="#严格模式简要规则" aria-hidden="true">#</a> 严格模式简要规则</h3><ol><li><p>不能使用未定义的变量</p></li><li><p>不允许删除变量或者对象或者函数</p></li><li><p>不允许参数重名</p></li><li><p>禁止 this 关键字指向全局对象</p></li></ol><h2 id="闭包-重要" tabindex="-1"><a class="header-anchor" href="#闭包-重要" aria-hidden="true">#</a> 闭包（重要）</h2><h3 id="定义" tabindex="-1"><a class="header-anchor" href="#定义" aria-hidden="true">#</a> 定义</h3><p>闭包指有权访问另一个函数作用域中变量的函数。</p><p>简单理解：一个作用域可以访问另一个函数内部的局部变量。</p><p>概念：一个函数 f 内创建另一个函数 f1，f1 可以访问到 f 的局部变量，返回 f1。</p><p>案例：利用闭包获得 ul&gt;li 的索引号</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>立即执行函数也称为小闭包，因为立即执行函数里任何一个函数都可以使用它的 i 变量。</p><p>闭包不一定是最优选项，容易造成变量短期内无法销毁，易造成内存泄漏。</p><h3 id="作用" tabindex="-1"><a class="header-anchor" href="#作用" aria-hidden="true">#</a> 作用</h3><p>延伸变量的作用范围。</p><h2 id="递归" tabindex="-1"><a class="header-anchor" href="#递归" aria-hidden="true">#</a> 递归</h2><p>一个函数在内部调用其本身，函数自己调用自己本身，或者在自己函数调用的下级函数中调用自己。</p><p>必须加退出条件 return，否则容易堆栈溢出。</p><p>步骤</p><ol><li><p>假设递归函数已经写好</p></li><li><p>寻找递推关系</p></li><li><p>将递推关系的结构转换为递归体</p></li><li><p>将临界条件加入到递归体中</p></li></ol><p>案例 1：求和</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">sum</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>案例 2：斐波拉契数列</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 递归方法</span>
<span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> n <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fib</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 34</span>
<span class="token comment">//非递归方法 //</span>
<span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a <span class="token operator">=</span> b<span class="token punctuation">;</span>
    b <span class="token operator">=</span> c<span class="token punctuation">;</span>
    c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fib</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 34</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>案例 3：爬楼梯（动态规划）</p><p>假如楼梯有 n 个台阶，每次可以走 1 个或 2 个台阶，请问走完这 n 个台阶有几种走法</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">climbStairs</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">climbStairs</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">climbStairs</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="对象拷贝" tabindex="-1"><a class="header-anchor" href="#对象拷贝" aria-hidden="true">#</a> 对象拷贝</h2><h3 id="浅拷贝-单层" tabindex="-1"><a class="header-anchor" href="#浅拷贝-单层" aria-hidden="true">#</a> 浅拷贝（单层）</h3><p>仅第一层对象脱离原址，第二层对象仍为引用。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;ZhangSan&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">&quot;China&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="深拷贝" tabindex="-1"><a class="header-anchor" href="#深拷贝" aria-hidden="true">#</a> 深拷贝</h3><p>通过递归调用，实现全部对象内容拷贝，全部脱离原引用地址。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token parameter">newObj<span class="token punctuation">,</span> oldObj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> oldObj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> tempObj <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>tempObj<span class="token punctuation">,</span> oldObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> tempObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>tempObj<span class="token punctuation">,</span> oldObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> oldObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> newObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;ZhangSan&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">&quot;China&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">student</span><span class="token operator">:</span> <span class="token string">&quot;LiHua&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">student</span><span class="token operator">:</span> <span class="token string">&quot;LiLei&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> deepObj <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>newObj<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,373),o=[e];function c(i,l){return s(),a("div",null,o)}const d=n(t,[["render",c],["__file","高阶面向对象.html.vue"]]);export{d as default};
