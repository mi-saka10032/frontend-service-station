import{_ as a}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as i,c,a as e,b as t,e as n,w as l,d as m,r}from"./app.2e685bdc.js";const p={},h=e("p",null,"微前端的几个基本要素：技术栈无关、应用隔离、独立开发",-1),d=m('<h2 id="技术套件" tabindex="-1"><a class="header-anchor" href="#技术套件" aria-hidden="true">#</a> 技术套件</h2><p>WebComponents 天然具备三个强大的技术套件</p><ol><li><strong>Template</strong>：利用 Template 生成 DOM</li><li><strong>Shadow DOM</strong>：利用 Shadow DOM 隔离 CSS 样式</li><li><strong>Custom Elements</strong>：利用 Custom Elements 自定义元素，继承自 HTMLElement（DOM 类），继承该类就有了 html 的常见属性和 API，就能利用 Custom Elements 来自定义元素</li></ol><h2 id="生命周期" tabindex="-1"><a class="header-anchor" href="#生命周期" aria-hidden="true">#</a> 生命周期</h2><p><strong>connectedCallback</strong>是 DOM 节点首次挂载时触发的生命周期钩子，只会调用一次，在这里我们从外部传入属性对组件进行修改</p><p>组件属性变化后会调用<strong>attributeChangedCallback</strong>，相当于组件更新的声明周期钩子</p><h2 id="微前端应用" tabindex="-1"><a class="header-anchor" href="#微前端应用" aria-hidden="true">#</a> 微前端应用</h2><p>在了解 WebComponents 的能力之后，如何将它嵌入微前端呢？</p><p>在微前端的应用启动流程中：</p>',9),_=e("li",null,"路由劫持：基座应用的 router 库负责实现",-1),u={href:"https://www.npmjs.com/package/systemjs",target:"_blank",rel:"noopener noreferrer"},g={href:"https://www.npmjs.com/package/import-html-entry",target:"_blank",rel:"noopener noreferrer"},C=e("strong",null,"包装器",-1),b=e("li",null,[e("strong",null,"应用隔离"),t("：WebComponents 自带完美隔离，无论 js、css、dom")],-1),f=e("li",null,"应用通信：基座应用的全局状态库分发订阅-监听",-1),E=e("p",null,"WebComponents 承担的包装器这一角色，自己就轻松实现了包装、隔离，相比传统的 single-SPA 协议省去了第三方包装、隔离，更加轻便快捷",-1);function S(k,w){const o=r("RouterLink"),s=r("ExternalLinkIcon");return i(),c("div",null,[h,e("p",null,[t("在"),n(o,{to:"/micro/3-single-spa.html"},{default:l(()=>[t("Single-SPA")]),_:1}),t("中我们见识到了以 qiankun 为首的 single-SPA 框架体系煞费苦心加入了 CSS Module 和 JS 沙箱实现了应用隔离，而 HTML5 提供的 WebComponents 这个 API 实现的标签本身就是自带隔离的，所以本文主要讲讲 WebComponents")]),d,e("ul",null,[_,e("li",null,[t("加载器：一般是"),e("a",u,[t("SystemJS"),n(s)]),t("或者"),e("a",g,[t("import-html-entry"),n(s)]),t("获取资源包")]),e("li",null,[C,t("：没错，WebComponents 这里正是取代了传统"),n(o,{to:"/micro/3-single-spa.html#%E8%B7%AF%E7%94%B1%E6%B3%A8%E5%86%8C%EF%BC%88%E5%8C%85%E8%A3%85%E5%99%A8%EF%BC%89"},{default:l(()=>[t("single-SPA 包装器")]),_:1}),t("的作用，自带生命周期钩子，为主应用提供加载器导入与卸载时机")]),b,f]),E])}const B=a(p,[["render",S],["__file","5-webcomponents.html.vue"]]);export{B as default};
